(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{405:function(e,t,n){var content=n(411);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(71).default)("5df20cdc",content,!0,{sourceMap:!1})},406:function(e,t,n){var content=n(413);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(71).default)("7822fa66",content,!0,{sourceMap:!1})},410:function(e,t,n){"use strict";n(405)},411:function(e,t,n){var r=n(70)(!1);r.push([e.i,"#me .content .photo[data-v-13572c21]{width:160px;height:160px;position:relative;overflow:hidden}#me .content .photo .file-input[data-v-13572c21]{position:absolute;top:0;left:0;width:100%;height:100%}#me .hide-input-border[data-v-13572c21]{background-color:transparent;border:none}",""]),e.exports=r},412:function(e,t,n){"use strict";n(406)},413:function(e,t,n){var r=n(70)(!1);r.push([e.i,'.file-input>input,.file-input>label{width:100%;height:100%;opacity:0;cursor:pointer}.file-input:after{content:"Change";position:absolute;bottom:0;left:0;width:100%;padding:.5em 0 1em;text-align:center;background-color:rgba(0,0,0,.73333);opacity:0;transition:opacity .2s}.file-input:hover:after{opacity:1}',""]),e.exports=r},416:function(e,t,n){"use strict";n.r(t);var r=n(28),c=(n(72),n(16),n(26),n(121)),o=n(122),l=Object(c.b)({setup:function(){var e=Object(c.i)(),t=e.state.user,n=Object(c.h)(),l=n.$api,d=n.$toast,m=n.$axios,f=n.redirect;t.loggedIn||f("/");var h=Object(c.e)(0),v=Object(c.a)((function(){return"".concat(m.defaults.baseURL,"/user/me/photo?refresh=").concat(h.value)})),x=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.files,r=n&&n[0]||null){e.next=5;break}throw"No file specified.";case 5:if(!(r.size>16777216)){e.next=7;break}throw"File size exceed 16MB.";case 7:return(c=new FormData).append("file",r),e.next=11,l(Object(o.f)())(c);case 11:h.value++,d.success("Successfully changed profile photo."),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),d.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),y=Object(c.e)(t.name||""),w=Object(c.e)(!1),k=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l(Object(o.a)())({name:y.value});case 3:n=t.sent,e.commit("user/setUser",n),w.value=!1,y.value=n.name||"",d.success("Successfully changed display name."),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),d.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),C=Object(c.e)(t.username||""),I=Object(c.e)(!1),_=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l(Object(o.b)())({username:C.value});case 3:n=t.sent,e.commit("user/setUser",n),I.value=!1,C.value=n.username||"",d.success("Successfully changed username."),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),d.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return{photoUrl:v,changePhoto:x,displayNameInput:y,displayNameIsEditing:w,startEditDisplayName:function(){w.value=!0},changeDisplayName:k,usernameInput:C,usernameIsEditing:I,startEditUsername:function(){I.value=!0},changeUsername:_}}}),d=l,m=(n(410),n(412),n(81)),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"text-white p-3",attrs:{id:"me"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"title my-4"},[t("h2",[t("span",{staticClass:"mr-4"},[e._v("My account")]),t("nuxt-link",{attrs:{to:"/"}},[t("button",{staticClass:"btn btn-primary"},[e._v("BACK")])])],1)]),t("div",{staticClass:"content flex-row my-2"},[t("div",{staticClass:"photo mr-2 rounded-circle"},[t("img",{staticClass:"photo rounded-circle",attrs:{src:e.photoUrl}}),t("b-form-file",{staticClass:"file-input",attrs:{type:"file",name:"avatar",accept:"image/*"},on:{change:e.changePhoto}})],1),t("div",{staticClass:"basic col"},[t("b-input-group",[t("b-input-group-prepend",[t("b-input-group-text",[e._v("Display Name")])],1),e.displayNameIsEditing?t("b-form-input",{staticClass:"bg-dark text-white",model:{value:e.displayNameInput,callback:function(t){e.displayNameInput=t},expression:"displayNameInput"}}):t("b-form-input",{staticClass:"hide-input-border text-white",attrs:{disabled:!0},model:{value:e.displayNameInput,callback:function(t){e.displayNameInput=t},expression:"displayNameInput"}}),t("b-input-group-append",[e.displayNameIsEditing?t("b-button",{staticClass:"bg-success",on:{click:e.changeDisplayName}},[e._v("Confirm")]):t("b-button",{staticClass:"bg-primary",on:{click:e.startEditDisplayName}},[e._v("Edit")])],1)],1),t("b-input-group",[t("b-input-group-prepend",[t("b-input-group-text",[e._v("Username")]),t("b-input-group-text",{staticClass:"hide-input-border text-white pr-1"},[e._v("@")])],1),e.usernameIsEditing?t("b-form-input",{staticClass:"bg-dark text-white pl-1",model:{value:e.usernameInput,callback:function(t){e.usernameInput=t},expression:"usernameInput"}}):t("b-form-input",{staticClass:"hide-input-border text-white pl-1",attrs:{disabled:!0},model:{value:e.usernameInput,callback:function(t){e.usernameInput=t},expression:"usernameInput"}}),t("b-input-group-append",[e.usernameIsEditing?t("b-button",{staticClass:"bg-success",on:{click:e.changeUsername}},[e._v("Confirm")]):t("b-button",{staticClass:"bg-primary",on:{click:e.startEditUsername}},[e._v("Edit")])],1)],1)],1)])])])}),[],!1,null,"13572c21",null);t.default=component.exports}}]);